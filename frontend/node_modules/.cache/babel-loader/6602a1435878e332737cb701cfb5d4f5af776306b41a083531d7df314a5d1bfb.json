{"ast":null,"code":"import React,{useState}from'react';import{Dialog,DialogTitle,DialogContent,DialogActions,TextField,Button,MenuItem,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SalesForm(_ref){let{sale,products,onSave,onCancel}=_ref;const isEdit=!!sale.id;const[form,setForm]=useState({date:sale.date||'',customer:sale.customer||'',product_id:sale.product_id||'',quantity:sale.quantity||'',price:sale.price||'',status:sale.status||'',package_cost:sale.package_cost||'',shipping_cost:sale.shipping_cost||'',maker:sale.maker||'',ratio:sale.ratio||''});const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();onSave({...sale,...form},isEdit);};return/*#__PURE__*/_jsxs(Dialog,{open:true,onClose:onCancel,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:isEdit?'編輯銷售紀錄':'新增銷售紀錄'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{label:\"\\u65E5\\u671F\",name:\"date\",type:\"date\",value:form.date,onChange:handleChange,fullWidth:true,margin:\"normal\",InputLabelProps:{shrink:true}}),/*#__PURE__*/_jsx(TextField,{label:\"\\u5BA2\\u6236\",name:\"customer\",value:form.customer,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{select:true,label:\"\\u7522\\u54C1\",name:\"product_id\",value:form.product_id,onChange:handleChange,fullWidth:true,margin:\"normal\",children:products.map(p=>/*#__PURE__*/_jsx(MenuItem,{value:p.id,children:p.name_zh||p.name_en},p.id))}),/*#__PURE__*/_jsx(TextField,{label:\"\\u6578\\u91CF\",name:\"quantity\",type:\"number\",value:form.quantity,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u55AE\\u50F9\",name:\"price\",type:\"number\",value:form.price,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u72C0\\u614B\",name:\"status\",value:form.status,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u5305\\u6750\\u6210\\u672C\",name:\"package_cost\",type:\"number\",value:form.package_cost,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u904B\\u8CBB\",name:\"shipping_cost\",type:\"number\",value:form.shipping_cost,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u88FD\\u4F5C\\u8005\",name:\"maker\",value:form.maker,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u5206\\u6F64\",name:\"ratio\",value:form.ratio,onChange:handleChange,fullWidth:true,margin:\"normal\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onCancel,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",children:\"\\u5132\\u5B58\"})]})]})]});}export default SalesForm;","map":{"version":3,"names":["React","useState","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Button","MenuItem","Box","jsx","_jsx","jsxs","_jsxs","SalesForm","_ref","sale","products","onSave","onCancel","isEdit","id","form","setForm","date","customer","product_id","quantity","price","status","package_cost","shipping_cost","maker","ratio","handleChange","e","target","name","value","handleSubmit","preventDefault","open","onClose","maxWidth","fullWidth","children","onSubmit","label","type","onChange","margin","InputLabelProps","shrink","select","map","p","name_zh","name_en","onClick","variant"],"sources":["C:/Users/2311007/Desktop/poke/frontend/src/SalesForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Button,\r\n  MenuItem,\r\n  Box,\r\n} from '@mui/material';\r\n\r\nfunction SalesForm({ sale, products, onSave, onCancel }) {\r\n  const isEdit = !!sale.id;\r\n  const [form, setForm] = useState({\r\n    date: sale.date || '',\r\n    customer: sale.customer || '',\r\n    product_id: sale.product_id || '',\r\n    quantity: sale.quantity || '',\r\n    price: sale.price || '',\r\n    status: sale.status || '',\r\n    package_cost: sale.package_cost || '',\r\n    shipping_cost: sale.shipping_cost || '',\r\n    maker: sale.maker || '',\r\n    ratio: sale.ratio || '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSave({ ...sale, ...form }, isEdit);\r\n  };\r\n\r\n  return (\r\n    <Dialog open onClose={onCancel} maxWidth=\"sm\" fullWidth>\r\n      <DialogTitle>{isEdit ? '編輯銷售紀錄' : '新增銷售紀錄'}</DialogTitle>\r\n      <form onSubmit={handleSubmit}>\r\n        <DialogContent>\r\n          <TextField\r\n            label=\"日期\"\r\n            name=\"date\"\r\n            type=\"date\"\r\n            value={form.date}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            label=\"客戶\"\r\n            name=\"customer\"\r\n            value={form.customer}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n          <TextField\r\n            select\r\n            label=\"產品\"\r\n            name=\"product_id\"\r\n            value={form.product_id}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          >\r\n            {products.map((p) => (\r\n              <MenuItem key={p.id} value={p.id}>\r\n                {p.name_zh || p.name_en}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            label=\"數量\"\r\n            name=\"quantity\"\r\n            type=\"number\"\r\n            value={form.quantity}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n          <TextField\r\n            label=\"單價\"\r\n            name=\"price\"\r\n            type=\"number\"\r\n            value={form.price}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n          <TextField\r\n            label=\"狀態\"\r\n            name=\"status\"\r\n            value={form.status}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n          <TextField\r\n            label=\"包材成本\"\r\n            name=\"package_cost\"\r\n            type=\"number\"\r\n            value={form.package_cost}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n          <TextField\r\n            label=\"運費\"\r\n            name=\"shipping_cost\"\r\n            type=\"number\"\r\n            value={form.shipping_cost}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n          <TextField\r\n            label=\"製作者\"\r\n            name=\"maker\"\r\n            value={form.maker}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n          <TextField\r\n            label=\"分潤\"\r\n            name=\"ratio\"\r\n            value={form.ratio}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={onCancel}>取消</Button>\r\n          <Button type=\"submit\" variant=\"contained\">\r\n            儲存\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default SalesForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}