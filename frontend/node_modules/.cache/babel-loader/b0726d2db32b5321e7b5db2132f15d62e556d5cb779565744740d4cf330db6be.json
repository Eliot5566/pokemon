{"ast":null,"code":"import React,{useRef}from'react';import{Button,Avatar,CircularProgress,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ImageUpload(_ref){let{imageUrl,onUpload,uploading}=_ref;const fileInput=useRef();const handleFileChange=e=>{if(e.target.files&&e.target.files[0]){onUpload(e.target.files[0]);}};return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[imageUrl&&/*#__PURE__*/_jsx(Avatar,{src:imageUrl.startsWith('http')?imageUrl:`/uploads/${imageUrl}`,alt:\"\\u7522\\u54C1\\u5716\\u7247\",sx:{width:56,height:56}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",style:{display:'none'},ref:fileInput,onChange:handleFileChange,disabled:uploading}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>fileInput.current&&fileInput.current.click(),disabled:uploading,children:\"\\u4E0A\\u50B3\\u5716\\u7247\"}),uploading&&/*#__PURE__*/_jsx(CircularProgress,{size:24})]});}export default ImageUpload;","map":{"version":3,"names":["React","useRef","Button","Avatar","CircularProgress","Box","jsx","_jsx","jsxs","_jsxs","ImageUpload","_ref","imageUrl","onUpload","uploading","fileInput","handleFileChange","e","target","files","sx","display","alignItems","gap","children","src","startsWith","alt","width","height","type","accept","style","ref","onChange","disabled","variant","onClick","current","click","size"],"sources":["C:/Users/2311007/Desktop/poke/frontend/src/ImageUpload.js"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport { Button, Avatar, CircularProgress, Box } from '@mui/material';\r\n\r\nfunction ImageUpload({ imageUrl, onUpload, uploading }) {\r\n  const fileInput = useRef();\r\n\r\n  const handleFileChange = (e) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      onUpload(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n      {imageUrl && (\r\n        <Avatar\r\n          src={imageUrl.startsWith('http') ? imageUrl : `/uploads/${imageUrl}`}\r\n          alt=\"產品圖片\"\r\n          sx={{ width: 56, height: 56 }}\r\n        />\r\n      )}\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        style={{ display: 'none' }}\r\n        ref={fileInput}\r\n        onChange={handleFileChange}\r\n        disabled={uploading}\r\n      />\r\n      <Button\r\n        variant=\"outlined\"\r\n        onClick={() => fileInput.current && fileInput.current.click()}\r\n        disabled={uploading}\r\n      >\r\n        上傳圖片\r\n      </Button>\r\n      {uploading && <CircularProgress size={24} />}\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default ImageUpload;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,KAAQ,OAAO,CACrC,OAASC,MAAM,CAAEC,MAAM,CAAEC,gBAAgB,CAAEC,GAAG,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtE,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAoC,IAAnC,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,SAAU,CAAC,CAAAH,IAAA,CACpD,KAAM,CAAAI,SAAS,CAAGd,MAAM,CAAC,CAAC,CAE1B,KAAM,CAAAe,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,GAAIA,CAAC,CAACC,MAAM,CAACC,KAAK,EAAIF,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CACvCN,QAAQ,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC7B,CACF,CAAC,CAED,mBACEV,KAAA,CAACJ,GAAG,EAACe,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,CAAE,CAAE,CAAAC,QAAA,EACxDZ,QAAQ,eACPL,IAAA,CAACJ,MAAM,EACLsB,GAAG,CAAEb,QAAQ,CAACc,UAAU,CAAC,MAAM,CAAC,CAAGd,QAAQ,CAAG,YAAYA,QAAQ,EAAG,CACrEe,GAAG,CAAC,0BAAM,CACVP,EAAE,CAAE,CAAEQ,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAG,CAAE,CAC/B,CACF,cACDtB,IAAA,UACEuB,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,SAAS,CAChBC,KAAK,CAAE,CAAEX,OAAO,CAAE,MAAO,CAAE,CAC3BY,GAAG,CAAElB,SAAU,CACfmB,QAAQ,CAAElB,gBAAiB,CAC3BmB,QAAQ,CAAErB,SAAU,CACrB,CAAC,cACFP,IAAA,CAACL,MAAM,EACLkC,OAAO,CAAC,UAAU,CAClBC,OAAO,CAAEA,CAAA,GAAMtB,SAAS,CAACuB,OAAO,EAAIvB,SAAS,CAACuB,OAAO,CAACC,KAAK,CAAC,CAAE,CAC9DJ,QAAQ,CAAErB,SAAU,CAAAU,QAAA,CACrB,0BAED,CAAQ,CAAC,CACRV,SAAS,eAAIP,IAAA,CAACH,gBAAgB,EAACoC,IAAI,CAAE,EAAG,CAAE,CAAC,EACzC,CAAC,CAEV,CAEA,cAAe,CAAA9B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}