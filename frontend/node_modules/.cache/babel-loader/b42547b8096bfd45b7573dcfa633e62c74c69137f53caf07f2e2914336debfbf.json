{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useState as useReactState}from'react';import{Container,Typography,Button,Snackbar,Alert,Box,Paper}from'@mui/material';import ProductList from'./ProductList';import ProductForm from'./ProductForm';import ImportCSV from'./ImportCSV';import SalesList from'./SalesList';import InventoryList from'./InventoryList';import SalesForm from'./SalesForm';import InventoryForm from'./InventoryForm';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){// 分頁狀態: 'products' | 'sales' | 'inventory'\nconst[page,setPage]=useReactState('products');const API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'';const[products,setProducts]=useState([]);const[editingProduct,setEditingProduct]=useState(null);const[snackbar,setSnackbar]=useState({open:false,message:'',severity:'success'});const[sales,setSales]=useState([]);const[inventory,setInventory]=useState([]);// 取得產品列表\nconst fetchProducts=async()=>{try{const res=await fetch(`${API_BASE_URL}/api/products`);const data=await res.json();setProducts(data);}catch(err){setSnackbar({open:true,message:'載入產品失敗',severity:'error'});}};// 取得銷售紀錄\nconst fetchSales=async()=>{try{const res=await fetch(`${API_BASE_URL}/api/sales`);const data=await res.json();setSales(data);}catch(err){setSnackbar({open:true,message:'載入銷售紀錄失敗',severity:'error'});}};// 取得庫存資料\nconst fetchInventory=async()=>{try{const res=await fetch(`${API_BASE_URL}/api/inventory`);const data=await res.json();setInventory(data);}catch(err){setSnackbar({open:true,message:'載入庫存失敗',severity:'error'});}};// 銷售與庫存編輯狀態\nconst[editingSale,setEditingSale]=useState(null);const[editingInventory,setEditingInventory]=useState(null);// 銷售紀錄 CRUD\nconst handleSaveSale=async(sale,isEdit)=>{const payload={date:sale.date||'',customer:sale.customer||'',product_id:sale.product_id||'',quantity:sale.quantity||'',price:sale.price||'',status:sale.status||'',package_cost:sale.package_cost||'',shipping_cost:sale.shipping_cost||'',maker:sale.maker||'',ratio:sale.ratio||''};try{const res=await fetch(isEdit?`${API_BASE_URL}/api/sales/${sale.id}`:`${API_BASE_URL}/api/sales`,{method:isEdit?'PUT':'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!res.ok)throw new Error('儲存失敗');setSnackbar({open:true,message:isEdit?'紀錄已更新':'紀錄已新增',severity:'success'});setEditingSale(null);fetchSales();}catch{setSnackbar({open:true,message:'儲存失敗',severity:'error'});}};const handleDeleteSale=async id=>{if(!window.confirm('確定要刪除這筆銷售紀錄嗎？'))return;try{const res=await fetch(`${API_BASE_URL}/api/sales/${id}`,{method:'DELETE'});if(!res.ok)throw new Error('刪除失敗');setSnackbar({open:true,message:'紀錄已刪除',severity:'success'});fetchSales();}catch{setSnackbar({open:true,message:'刪除失敗',severity:'error'});}};// 庫存 CRUD\nconst handleSaveInventory=async(item,isEdit)=>{const payload={product_id:item.product_id||'',component:item.component||'',stock:item.stock||''};try{const res=await fetch(isEdit?`${API_BASE_URL}/api/inventory/${item.id}`:`${API_BASE_URL}/api/inventory`,{method:isEdit?'PUT':'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!res.ok)throw new Error('儲存失敗');setSnackbar({open:true,message:isEdit?'庫存已更新':'庫存已新增',severity:'success'});setEditingInventory(null);fetchInventory();}catch{setSnackbar({open:true,message:'儲存失敗',severity:'error'});}};const handleDeleteInventory=async id=>{if(!window.confirm('確定要刪除這筆庫存資料嗎？'))return;try{const res=await fetch(`${API_BASE_URL}/api/inventory/${id}`,{method:'DELETE'});if(!res.ok)throw new Error('刪除失敗');setSnackbar({open:true,message:'庫存已刪除',severity:'success'});fetchInventory();}catch{setSnackbar({open:true,message:'刪除失敗',severity:'error'});}};useEffect(()=>{fetchProducts();},[]);useEffect(()=>{if(page==='sales')fetchSales();if(page==='inventory')fetchInventory();// eslint-disable-next-line\n},[page]);// 新增或編輯產品\nconst handleSave=async(product,isEdit)=>{// 欄位同步：name_en, name_zh, materials_en, materials_zh, price, image_url\nconst payload={name_en:product.name_en||'',name_zh:product.name_zh||'',materials_en:product.materials_en||'',materials_zh:product.materials_zh||'',price:product.price||'',image_url:product.image_url||''};try{const res=await fetch(isEdit?`${API_BASE_URL}/api/products/${product.id}`:`${API_BASE_URL}/api/products`,{method:isEdit?'PUT':'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!res.ok)throw new Error('儲存失敗');setSnackbar({open:true,message:isEdit?'產品已更新':'產品已新增',severity:'success'});setEditingProduct(null);fetchProducts();}catch{setSnackbar({open:true,message:'儲存失敗',severity:'error'});}};// 刪除產品\nconst handleDelete=async id=>{if(!window.confirm('確定要刪除這個產品嗎？'))return;try{const res=await fetch(`${API_BASE_URL}/api/products/${id}`,{method:'DELETE'});if(!res.ok)throw new Error('刪除失敗');setSnackbar({open:true,message:'產品已刪除',severity:'success'});fetchProducts();}catch{setSnackbar({open:true,message:'刪除失敗',severity:'error'});}};// 批次匯入成功後刷新\nconst handleImportSuccess=()=>{setSnackbar({open:true,message:'匯入成功',severity:'success'});fetchProducts();};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,align:\"center\",children:\"\\u5BF6\\u53EF\\u5922 3D \\u5217\\u5370\\u7403\\u7522\\u54C1\\u7BA1\\u7406\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,justifyContent:'center',mb:3},children:[/*#__PURE__*/_jsx(Button,{variant:page==='products'?'contained':'outlined',onClick:()=>setPage('products'),children:\"\\u7522\\u54C1\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(Button,{variant:page==='sales'?'contained':'outlined',onClick:()=>setPage('sales'),children:\"\\u92B7\\u552E\\u7D00\\u9304\"}),/*#__PURE__*/_jsx(Button,{variant:page==='inventory'?'contained':'outlined',onClick:()=>setPage('inventory'),children:\"\\u5EAB\\u5B58\\u7BA1\\u7406\"})]}),page==='products'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>setEditingProduct({}),children:\"\\u65B0\\u589E\\u7522\\u54C1\"}),/*#__PURE__*/_jsx(ImportCSV,{onSuccess:handleImportSuccess})]}),/*#__PURE__*/_jsx(Paper,{sx:{p:2,mb:2},children:/*#__PURE__*/_jsx(ProductList,{products:products,onEdit:setEditingProduct,onDelete:handleDelete})}),editingProduct!==null&&/*#__PURE__*/_jsx(ProductForm,{product:editingProduct,onSave:handleSave,onCancel:()=>setEditingProduct(null)})]}),page==='sales'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'flex-end',mb:2},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>setEditingSale({}),children:\"\\u65B0\\u589E\\u92B7\\u552E\\u7D00\\u9304\"})}),/*#__PURE__*/_jsx(Paper,{sx:{p:2,mb:2},children:/*#__PURE__*/_jsx(SalesList,{sales:sales,onEdit:setEditingSale,onDelete:handleDeleteSale})}),editingSale!==null&&/*#__PURE__*/_jsx(SalesForm,{sale:editingSale,products:products,onSave:handleSaveSale,onCancel:()=>setEditingSale(null)})]}),page==='inventory'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'flex-end',mb:2},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>setEditingInventory({}),children:\"\\u65B0\\u589E\\u5EAB\\u5B58\"})}),/*#__PURE__*/_jsx(Paper,{sx:{p:2,mb:2},children:/*#__PURE__*/_jsx(InventoryList,{inventory:inventory,onEdit:setEditingInventory,onDelete:handleDeleteInventory})}),editingInventory!==null&&/*#__PURE__*/_jsx(InventoryForm,{item:editingInventory,products:products,onSave:handleSaveInventory,onCancel:()=>setEditingInventory(null)})]}),/*#__PURE__*/_jsx(Snackbar,{open:snackbar.open,autoHideDuration:3000,onClose:()=>setSnackbar({...snackbar,open:false}),anchorOrigin:{vertical:'top',horizontal:'center'},children:/*#__PURE__*/_jsx(Alert,{severity:snackbar.severity,sx:{width:'100%'},children:snackbar.message})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","useReactState","Container","Typography","Button","Snackbar","Alert","Box","Paper","ProductList","ProductForm","ImportCSV","SalesList","InventoryList","SalesForm","InventoryForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","page","setPage","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","products","setProducts","editingProduct","setEditingProduct","snackbar","setSnackbar","open","message","severity","sales","setSales","inventory","setInventory","fetchProducts","res","fetch","data","json","err","fetchSales","fetchInventory","editingSale","setEditingSale","editingInventory","setEditingInventory","handleSaveSale","sale","isEdit","payload","date","customer","product_id","quantity","price","status","package_cost","shipping_cost","maker","ratio","id","method","headers","body","JSON","stringify","ok","Error","handleDeleteSale","window","confirm","handleSaveInventory","item","component","stock","handleDeleteInventory","handleSave","product","name_en","name_zh","materials_en","materials_zh","image_url","handleDelete","handleImportSuccess","maxWidth","sx","py","children","variant","gutterBottom","align","display","gap","justifyContent","mb","onClick","color","onSuccess","p","onEdit","onDelete","onSave","onCancel","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","width"],"sources":["C:/Users/2311007/Desktop/poke/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useState as useReactState } from 'react';\nimport {\n  Container,\n  Typography,\n  Button,\n  Snackbar,\n  Alert,\n  Box,\n  Paper,\n} from '@mui/material';\nimport ProductList from './ProductList';\nimport ProductForm from './ProductForm';\nimport ImportCSV from './ImportCSV';\nimport SalesList from './SalesList';\nimport InventoryList from './InventoryList';\nimport SalesForm from './SalesForm';\nimport InventoryForm from './InventoryForm';\n\nfunction App() {\n  // 分頁狀態: 'products' | 'sales' | 'inventory'\n  const [page, setPage] = useReactState('products');\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || '';\n  const [products, setProducts] = useState([]);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success',\n  });\n  const [sales, setSales] = useState([]);\n  const [inventory, setInventory] = useState([]);\n\n  // 取得產品列表\n  const fetchProducts = async () => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/products`);\n      const data = await res.json();\n      setProducts(data);\n    } catch (err) {\n      setSnackbar({ open: true, message: '載入產品失敗', severity: 'error' });\n    }\n  };\n\n  // 取得銷售紀錄\n  const fetchSales = async () => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/sales`);\n      const data = await res.json();\n      setSales(data);\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: '載入銷售紀錄失敗',\n        severity: 'error',\n      });\n    }\n  };\n\n  // 取得庫存資料\n  const fetchInventory = async () => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/inventory`);\n      const data = await res.json();\n      setInventory(data);\n    } catch (err) {\n      setSnackbar({ open: true, message: '載入庫存失敗', severity: 'error' });\n    }\n  };\n  // 銷售與庫存編輯狀態\n  const [editingSale, setEditingSale] = useState(null);\n  const [editingInventory, setEditingInventory] = useState(null);\n  // 銷售紀錄 CRUD\n  const handleSaveSale = async (sale, isEdit) => {\n    const payload = {\n      date: sale.date || '',\n      customer: sale.customer || '',\n      product_id: sale.product_id || '',\n      quantity: sale.quantity || '',\n      price: sale.price || '',\n      status: sale.status || '',\n      package_cost: sale.package_cost || '',\n      shipping_cost: sale.shipping_cost || '',\n      maker: sale.maker || '',\n      ratio: sale.ratio || '',\n    };\n    try {\n      const res = await fetch(\n        isEdit\n          ? `${API_BASE_URL}/api/sales/${sale.id}`\n          : `${API_BASE_URL}/api/sales`,\n        {\n          method: isEdit ? 'PUT' : 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(payload),\n        }\n      );\n      if (!res.ok) throw new Error('儲存失敗');\n      setSnackbar({\n        open: true,\n        message: isEdit ? '紀錄已更新' : '紀錄已新增',\n        severity: 'success',\n      });\n      setEditingSale(null);\n      fetchSales();\n    } catch {\n      setSnackbar({ open: true, message: '儲存失敗', severity: 'error' });\n    }\n  };\n\n  const handleDeleteSale = async (id) => {\n    if (!window.confirm('確定要刪除這筆銷售紀錄嗎？')) return;\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/sales/${id}`, {\n        method: 'DELETE',\n      });\n      if (!res.ok) throw new Error('刪除失敗');\n      setSnackbar({ open: true, message: '紀錄已刪除', severity: 'success' });\n      fetchSales();\n    } catch {\n      setSnackbar({ open: true, message: '刪除失敗', severity: 'error' });\n    }\n  };\n\n  // 庫存 CRUD\n  const handleSaveInventory = async (item, isEdit) => {\n    const payload = {\n      product_id: item.product_id || '',\n      component: item.component || '',\n      stock: item.stock || '',\n    };\n    try {\n      const res = await fetch(\n        isEdit\n          ? `${API_BASE_URL}/api/inventory/${item.id}`\n          : `${API_BASE_URL}/api/inventory`,\n        {\n          method: isEdit ? 'PUT' : 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(payload),\n        }\n      );\n      if (!res.ok) throw new Error('儲存失敗');\n      setSnackbar({\n        open: true,\n        message: isEdit ? '庫存已更新' : '庫存已新增',\n        severity: 'success',\n      });\n      setEditingInventory(null);\n      fetchInventory();\n    } catch {\n      setSnackbar({ open: true, message: '儲存失敗', severity: 'error' });\n    }\n  };\n\n  const handleDeleteInventory = async (id) => {\n    if (!window.confirm('確定要刪除這筆庫存資料嗎？')) return;\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/inventory/${id}`, {\n        method: 'DELETE',\n      });\n      if (!res.ok) throw new Error('刪除失敗');\n      setSnackbar({ open: true, message: '庫存已刪除', severity: 'success' });\n      fetchInventory();\n    } catch {\n      setSnackbar({ open: true, message: '刪除失敗', severity: 'error' });\n    }\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  useEffect(() => {\n    if (page === 'sales') fetchSales();\n    if (page === 'inventory') fetchInventory();\n    // eslint-disable-next-line\n  }, [page]);\n\n  // 新增或編輯產品\n  const handleSave = async (product, isEdit) => {\n    // 欄位同步：name_en, name_zh, materials_en, materials_zh, price, image_url\n    const payload = {\n      name_en: product.name_en || '',\n      name_zh: product.name_zh || '',\n      materials_en: product.materials_en || '',\n      materials_zh: product.materials_zh || '',\n      price: product.price || '',\n      image_url: product.image_url || '',\n    };\n    try {\n      const res = await fetch(\n        isEdit\n          ? `${API_BASE_URL}/api/products/${product.id}`\n          : `${API_BASE_URL}/api/products`,\n        {\n          method: isEdit ? 'PUT' : 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(payload),\n        }\n      );\n      if (!res.ok) throw new Error('儲存失敗');\n      setSnackbar({\n        open: true,\n        message: isEdit ? '產品已更新' : '產品已新增',\n        severity: 'success',\n      });\n      setEditingProduct(null);\n      fetchProducts();\n    } catch {\n      setSnackbar({ open: true, message: '儲存失敗', severity: 'error' });\n    }\n  };\n\n  // 刪除產品\n  const handleDelete = async (id) => {\n    if (!window.confirm('確定要刪除這個產品嗎？')) return;\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/products/${id}`, {\n        method: 'DELETE',\n      });\n      if (!res.ok) throw new Error('刪除失敗');\n      setSnackbar({ open: true, message: '產品已刪除', severity: 'success' });\n      fetchProducts();\n    } catch {\n      setSnackbar({ open: true, message: '刪除失敗', severity: 'error' });\n    }\n  };\n\n  // 批次匯入成功後刷新\n  const handleImportSuccess = () => {\n    setSnackbar({ open: true, message: '匯入成功', severity: 'success' });\n    fetchProducts();\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Typography variant=\"h4\" gutterBottom align=\"center\">\n        寶可夢 3D 列印球產品管理\n      </Typography>\n      {/* 分頁切換按鈕 */}\n      <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center', mb: 3 }}>\n        <Button\n          variant={page === 'products' ? 'contained' : 'outlined'}\n          onClick={() => setPage('products')}\n        >\n          產品管理\n        </Button>\n        <Button\n          variant={page === 'sales' ? 'contained' : 'outlined'}\n          onClick={() => setPage('sales')}\n        >\n          銷售紀錄\n        </Button>\n        <Button\n          variant={page === 'inventory' ? 'contained' : 'outlined'}\n          onClick={() => setPage('inventory')}\n        >\n          庫存管理\n        </Button>\n      </Box>\n\n      {/* 產品管理頁 */}\n      {page === 'products' && (\n        <>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => setEditingProduct({})}\n            >\n              新增產品\n            </Button>\n            <ImportCSV onSuccess={handleImportSuccess} />\n          </Box>\n          <Paper sx={{ p: 2, mb: 2 }}>\n            <ProductList\n              products={products}\n              onEdit={setEditingProduct}\n              onDelete={handleDelete}\n            />\n          </Paper>\n          {editingProduct !== null && (\n            <ProductForm\n              product={editingProduct}\n              onSave={handleSave}\n              onCancel={() => setEditingProduct(null)}\n            />\n          )}\n        </>\n      )}\n\n      {/* 銷售紀錄分頁 CRUD */}\n      {page === 'sales' && (\n        <>\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end', mb: 2 }}>\n            <Button variant=\"contained\" onClick={() => setEditingSale({})}>\n              新增銷售紀錄\n            </Button>\n          </Box>\n          <Paper sx={{ p: 2, mb: 2 }}>\n            <SalesList\n              sales={sales}\n              onEdit={setEditingSale}\n              onDelete={handleDeleteSale}\n            />\n          </Paper>\n          {editingSale !== null && (\n            <SalesForm\n              sale={editingSale}\n              products={products}\n              onSave={handleSaveSale}\n              onCancel={() => setEditingSale(null)}\n            />\n          )}\n        </>\n      )}\n\n      {/* 庫存管理分頁 CRUD */}\n      {page === 'inventory' && (\n        <>\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end', mb: 2 }}>\n            <Button variant=\"contained\" onClick={() => setEditingInventory({})}>\n              新增庫存\n            </Button>\n          </Box>\n          <Paper sx={{ p: 2, mb: 2 }}>\n            <InventoryList\n              inventory={inventory}\n              onEdit={setEditingInventory}\n              onDelete={handleDeleteInventory}\n            />\n          </Paper>\n          {editingInventory !== null && (\n            <InventoryForm\n              item={editingInventory}\n              products={products}\n              onSave={handleSaveInventory}\n              onCancel={() => setEditingInventory(null)}\n            />\n          )}\n        </>\n      )}\n\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={3000}\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      >\n        <Alert severity={snackbar.severity} sx={{ width: '100%' }}>\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}