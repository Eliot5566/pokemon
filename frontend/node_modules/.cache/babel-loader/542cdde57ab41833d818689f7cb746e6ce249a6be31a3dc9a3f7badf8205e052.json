{"ast":null,"code":"import React,{useState}from'react';import{Dialog,DialogTitle,DialogContent,DialogActions,TextField,Button,MenuItem}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function InventoryForm(_ref){let{item,products,onSave,onCancel}=_ref;const isEdit=!!item.id;const[form,setForm]=useState({product_id:item.product_id||'',component:item.component||'',stock:item.stock||''});const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();onSave({...item,...form},isEdit);};return/*#__PURE__*/_jsxs(Dialog,{open:true,onClose:onCancel,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:isEdit?'編輯庫存':'新增庫存'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{select:true,label:\"\\u7522\\u54C1\",name:\"product_id\",value:form.product_id,onChange:handleChange,fullWidth:true,margin:\"normal\",children:products.map(p=>/*#__PURE__*/_jsx(MenuItem,{value:p.id,children:p.name_zh||p.name_en},p.id))}),/*#__PURE__*/_jsx(TextField,{label:\"\\u96F6\\u4EF6\",name:\"component\",value:form.component,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u5EAB\\u5B58\",name:\"stock\",type:\"number\",value:form.stock,onChange:handleChange,fullWidth:true,margin:\"normal\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onCancel,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",children:\"\\u5132\\u5B58\"})]})]})]});}export default InventoryForm;","map":{"version":3,"names":["React","useState","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Button","MenuItem","jsx","_jsx","jsxs","_jsxs","InventoryForm","_ref","item","products","onSave","onCancel","isEdit","id","form","setForm","product_id","component","stock","handleChange","e","target","name","value","handleSubmit","preventDefault","open","onClose","maxWidth","fullWidth","children","onSubmit","select","label","onChange","margin","map","p","name_zh","name_en","type","onClick","variant"],"sources":["C:/Users/2311007/Desktop/poke/frontend/src/InventoryForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Button,\r\n  MenuItem,\r\n} from '@mui/material';\r\n\r\nfunction InventoryForm({ item, products, onSave, onCancel }) {\r\n  const isEdit = !!item.id;\r\n  const [form, setForm] = useState({\r\n    product_id: item.product_id || '',\r\n    component: item.component || '',\r\n    stock: item.stock || '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSave({ ...item, ...form }, isEdit);\r\n  };\r\n\r\n  return (\r\n    <Dialog open onClose={onCancel} maxWidth=\"sm\" fullWidth>\r\n      <DialogTitle>{isEdit ? '編輯庫存' : '新增庫存'}</DialogTitle>\r\n      <form onSubmit={handleSubmit}>\r\n        <DialogContent>\r\n          <TextField\r\n            select\r\n            label=\"產品\"\r\n            name=\"product_id\"\r\n            value={form.product_id}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          >\r\n            {products.map((p) => (\r\n              <MenuItem key={p.id} value={p.id}>\r\n                {p.name_zh || p.name_en}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n          <TextField\r\n            label=\"零件\"\r\n            name=\"component\"\r\n            value={form.component}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n          <TextField\r\n            label=\"庫存\"\r\n            name=\"stock\"\r\n            type=\"number\"\r\n            value={form.stock}\r\n            onChange={handleChange}\r\n            fullWidth\r\n            margin=\"normal\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={onCancel}>取消</Button>\r\n          <Button type=\"submit\" variant=\"contained\">\r\n            儲存\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default InventoryForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}